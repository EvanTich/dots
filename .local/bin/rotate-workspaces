#!/usr/bin/env bash
# requires jq, make sure to set separator to something not in the workspace name

initial_workspace=$(swaymsg -t get_workspaces | jq '.[]|select(.focused==true).name')

swaymsg -t get_outputs | jq -r '.[]|select(.active==true)|"\(.name)_\(.current_workspace)"' | \
while IFS=_ read -r name workspace; do
  swaymsg -q -- workspace --no-auto-back-and-forth "$workspace"
  swaymsg -q -- move workspace to output right
done
swaymsg -q -- workspace --no-auto-back-and-forth $initial_workspace

