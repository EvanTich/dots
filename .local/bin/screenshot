#!/bin/sh

# Screenshots the screen based on argument input or dmenu
# Arguments can be: fullscreen, window, or area.
# You can add '-copy' after each if you want to copy the image
# to the clipboard instead of saving the screenshot to a file.
choice="$1"
if [ -z "$1" ]; then
    choice="$(printf "fullscreen\\nwindow\\narea\\nfullscreen (copy)\\nwindow (copy)\\narea (copy)" | rofi -dmenu -l 6 -i -p "Screenshot which area?")"
fi

file="${2:-"/home/$USER/Pictures/screenshot-$(date +'%F %T').png"}"

case "$choice" in
    "fullscreen")
        grimshot save screen "$file" >/dev/null ;;
    "fullscreen-copy"|"fullscreen (copy)")
        grimshot --notify copy screen ;;
    "window") ;&
    "area")
        grimshot save anything "$file" >/dev/null ;;
    "window-copy"|"window (copy)") ;&
    "area-copy"|"area (copy)")
        grimshot --notify copy anything ;;
esac
